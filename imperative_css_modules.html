<!doctype html>
<html>
    <head>
    <script type="module">
        window.start = performance.now();

        window.addEventListener('load', function() {
            const end = performance.now();
            console.log('Time to onload: ' + (end - window.start) + ' milliseconds');
        });

        document.addEventListener('DOMContentLoaded', function() {
            const end = performance.now();
            console.log('Time to DOMContentLoaded: ' + (end - window.start) + ' milliseconds');
        });

        const observer = new PerformanceObserver((list) => {
            list.getEntries().forEach((entry) => {
                if (entry.entryType === "largest-contentful-paint") {
                    console.log("LCP:", entry.startTime);
                    window._lcpTime = entry.startTime;
                } else if (entry.name === "first-contentful-paint") {
                    console.log("FCP:", entry.startTime);
                }
            });
        });
        observer.observe({ entryTypes: ["largest-contentful-paint", "paint"] });
        
        import sheet from "./foo.css" with { type: "css" };
        import large_sheet from "./large.css" with { type: "css" };

        class CSSModuleTestElement extends HTMLElement {
            constructor() {
                super();
                this.shadow = this.attachShadow({mode: "open"});
                this.shadow.adoptedStyleSheets = [sheet, large_sheet];

                this.shadow.innerHTML = 
                    `<p>Here is <span>some</span> text</p>`;
            }
        }
        customElements.define('styles-test-element', CSSModuleTestElement);
    </script>
    <style>
        body { font-family: sans-serif; }
        .wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            width: 100vw;
        }
    </style>
    </head>
<body>
    <!-- <button id="addCssRule" onclick="addRedCssRule()">Add Rules</button> -->
    <button id="reload100" onclick="startReload100()">Reload 100 times</button>
    <span id="reloadStatus"></span>
    <span>Directions: Wait for the page to load, click the "Reload 100 times" button, wait for it to finish, <strong>then</strong> open Developer Tools and view the console.</span>
    <script>
    // Reload 100 times functionality
    const RELOAD_KEY = 'reload100_data';
    const RELOAD_COUNT_KEY = 'reload100_count';
    const RELOAD_MAX = 100;

    function startReload100() {
        // Initialize storage
        localStorage.setItem(RELOAD_COUNT_KEY, '0');
        localStorage.setItem(RELOAD_KEY, JSON.stringify({
            onload: [],
            domContentLoaded: [],
            lcp: [],
            fcp: [],
            addCssRule: []
        }));
        window.location.reload();
    }

    function checkAndContinueReload() {
        const countStr = localStorage.getItem(RELOAD_COUNT_KEY);
        if (countStr === null) return;

        let count = parseInt(countStr, 10);
        const dataStr = localStorage.getItem(RELOAD_KEY);
        let data = dataStr ? JSON.parse(dataStr) : { onload: [], domContentLoaded: [], lcp: [], fcp: [], addCssRule: [] };

        // Update status
        const statusEl = document.getElementById('reloadStatus');
        if (statusEl) {
            statusEl.textContent = `Reload ${count + 1} of ${RELOAD_MAX}`;
        }

        // Collect current metrics after load
        window.addEventListener('load', function() {
            const end = performance.now();
            const onloadTime = end - window.start;
            data.onload.push(onloadTime);

            // Get DOMContentLoaded (already fired, use stored value)
            if (window._domContentLoadedTime) {
                data.domContentLoaded.push(window._domContentLoadedTime);
            }

            // Get paint entries
            const paintEntries = performance.getEntriesByType('paint');
            paintEntries.forEach(entry => {
                if (entry.name === 'first-contentful-paint') {
                    data.fcp.push(entry.startTime);
                }
            });

            // Get LCP (stored from PerformanceObserver)
            if (window._lcpTime) {
                data.lcp.push(window._lcpTime);
            }

            // Call addRedCssRule and measure time
            const cssRuleStart = performance.now();
            addRedCssRule();
            const cssRuleTime = performance.now() - cssRuleStart;
            data.addCssRule.push(cssRuleTime);

            count++;
            localStorage.setItem(RELOAD_COUNT_KEY, count.toString());
            localStorage.setItem(RELOAD_KEY, JSON.stringify(data));

            if (count < RELOAD_MAX) {
                // Continue reloading
                setTimeout(() => window.location.reload(), 100);
            } else {
                // Done - calculate and display averages
                displayAverages(data);
                localStorage.removeItem(RELOAD_COUNT_KEY);
                localStorage.removeItem(RELOAD_KEY);
            }
        });
    }

    function displayAverages(data) {
        const avg = arr => arr.length ? (arr.reduce((a, b) => a + b, 0) / arr.length) : 0;

        console.log('=== AVERAGE RESULTS OVER ' + RELOAD_MAX + ' RUNS ===');
        console.log('Average Time to onload: ' + avg(data.onload).toFixed(2) + ' ms');
        console.log('Average Time to DOMContentLoaded: ' + avg(data.domContentLoaded).toFixed(2) + ' ms');
        console.log('Average FCP: ' + avg(data.fcp).toFixed(2) + ' ms');
        console.log('Average LCP: ' + avg(data.lcp).toFixed(2) + ' ms');
        console.log('Average insertRule: ' + avg(data.addCssRule).toFixed(2) + ' ms');
        console.log('Raw data:', data);

        const statusEl = document.getElementById('reloadStatus');
        if (statusEl) {
            statusEl.innerHTML = `<strong>Done!</strong> Avg onload: ${avg(data.onload).toFixed(2)}ms, DOMContentLoaded: ${avg(data.domContentLoaded).toFixed(2)}ms, FCP: ${avg(data.fcp).toFixed(2)}ms, LCP: ${avg(data.lcp).toFixed(2)}ms, addCssRule: ${avg(data.addCssRule).toFixed(2)}ms`;
        }
    }

    // Store DOMContentLoaded time for later use
    document.addEventListener('DOMContentLoaded', function() {
        window._domContentLoadedTime = performance.now() - window.start;
    });

    // Check if we're in a reload cycle
    checkAndContinueReload();

    function addRedCssRule() {
        const startTime = performance.now();

        import("./foo.css", { with: { type: "css" } }).then((sheet) => {
            sheet.default.insertRule('p { color: red; }', sheet.default.cssRules.length);
            sheet.default.insertRule('p { background-image: linear-gradient(135deg,#4f46e5,#06b6d4); }', sheet.default.cssRules.length);
            sheet.default.insertRule('p span { font-weight: bold; }', sheet.default.cssRules.length);

            const endTime = performance.now();
            const timeTaken = endTime - startTime;
            console.log('Time taken to update stylesheets: ' + timeTaken + ' milliseconds');
        });
    }
    </script>
    <div class="wrapper">
        <!-- Start -->
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
       <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
        <styles-test-element></styles-test-element>
    </div>
    <script type="module">
        const end = performance.now();
        console.log("Time taken to parse: " + (end - window.start) + " milliseconds");
    </script>
</body>
</html>